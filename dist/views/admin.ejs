<!DOCTYPE html>
<html lang="pt-br">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.7.2/css/all.min.css"
    />
    <link rel="stylesheet" href="/styles/admin.css" />
    <title>Sorveteria - Brisa Nordestina</title>
  </head>
  <body>
    <dialog id="create-and-update-dialog">
      <form id="create-form" action="/protected/admin/save" method="post">
        <label for="name">Nome do sorvete:</label>
        <input
          type="text"
          name="name"
          id="iceCreamName"
          placeholder="Chocolate.."
          required
        />
        <label for="price">Pre√ßo:</label>
        <input
          type="text"
          name="price"
          id="iceCreamPrice"
          placeholder="R$ 10"
          required
        />
        <label for="inStock">Quantidade em estoque:</label>
        <input
          type="number"
          name="inStock"
          id="iceCreamStock"
          placeholder="140"
          required
        />
        <select name="propertie" class="options">
          <option value="traditional">Tradicional</option>
          <option value="premium">Premium</option>
        </select>
        <select name="size" class="options">
          <option value="1L">1 Litro</option>
          <option value="1,5L">1,5 Litros</option>
        </select>
        <div class="modalBtns">
          <button type="button" class="closeBtn">Fechar</button>
          <button type="submit" class="createBtn">Criar</button>
        </div>
      </form>

      <form id="update-form">
        <label for="name">Nome do sorvete:</label>
        <input
          type="text"
          name="name"
          id="iceCreamNameUp"
          placeholder="Chocolate.."
        />
        <label for="price">Pre√ßo:</label>
        <input
          type="text"
          name="price"
          id="iceCreamPriceUp"
          placeholder="R$ 10"
        />
        <label for="inStock">Quantidade em estoque:</label>
        <input
          type="number"
          name="inStock"
          id="iceCreamStockUp"
          placeholder="140"
        />
      
        <div class="modalBtns">
          <button type="button" class="closeBtn">Fechar</button>
          <button type="submit" class="updatedBtn">Atualizar</button>
        </div>
      </form>
    </dialog>

    <div class="cardapio">
      <div class="title">
        <h2>√Årea do adminstrador</h2>
      </div>
      <div class="second-title">
        <button class="add-iceBtn">Adicionar sorvete</button>
      </div>

      <div class="tabs">
        <button class="tab-btn active" data-category="tradicional">üç¶ Tradicional</button>
        <button class="tab-btn" data-category="premium">üç® Premium</button>
      </div>
      
      <!-- Filtros de tamanho -->
      <div class="filter">
        <button class="filter-btn active" data-size="1L">1 Litro</button>
        <button class="filter-btn" data-size="1,5L">1,5 Litros</button>
      </div>
      
      <!-- Conte√∫do das categorias -->
      <div class="products-container">
        <!-- Categoria Tradicional -->
        <div class="products category active" id="tradicional">
          <% products.forEach(iceCream => { %>
            <% if (iceCream.propertie === "traditional") { %>
              <div class="product" data-size="<%= iceCream.size %>" data-category="tradicional">
                <div class="infos">
                  <h4><%= iceCream.name %></h4>
                  <div class="price-stock">
                    <span>R$ <%= iceCream.price.toFixed(2) %></span>
                    <span>Em estoque: <%= iceCream.inStock %></span>
                  </div>
                </div>
                <div class="up-delete">
                  <button class="updateBtn" data-id="<%= iceCream.id %>">
                    <i class="fa-solid fa-pen"></i>
                  </button>
                  <button class="deleteBtn" data-id="<%= iceCream.id %>">
                    <i class="fa-solid fa-trash"></i>
                  </button>
                </div>
              </div>
            <% } %>
          <% }) %>
        </div>
      
        <!-- Categoria Premium -->
        <div class="products category" id="premium">
          <% products.forEach(iceCream => { %>
            <% if (iceCream.propertie === "premium") { %>
              <div class="product" data-size="<%= iceCream.size %>" data-category="premium">
                <div class="infos">
                  <h4><%= iceCream.name %></h4>
                  <div class="price-stock">
                    <span>R$ <%= iceCream.price.toFixed(2) %></span>
                    <span>Em estoque: <%= iceCream.inStock %></span>
                  </div>
                </div>
                <div class="up-delete">
                  <button class="updateBtn" data-id="<%= iceCream.id %>">
                    <i class="fa-solid fa-pen"></i>
                  </button>
                  <button class="deleteBtn" data-id="<%= iceCream.id %>">
                    <i class="fa-solid fa-trash"></i>
                  </button>
                </div>
              </div>
            <% } %>
          <% }) %>
        </div>
      </div>
     
    <script src="../src/open-modal.js"></script>
    <script src="../src/app.js" type="module"></script>
    <script src="../src/categoryAdmin.js"></script>
    
  </body>
</html>
